<div class="order-history-container">
	<h1 *ngIf="orderService.orders.length != 0">MY ORDERS</h1>
	<mat-card *ngFor="let order of orderService.orders.reverse()" class="order-container">
		<div class="order-overview-container">
			<div class="order-detail-wrapper">
				<span>ORDER PLACED</span>
				<span>
					{{ order.date.seconds * 1000 | date : 'longDate' }}
				</span>
			</div>
			<div class="order-detail-wrapper">
				<span>TOTAL</span>
				<span
					>{{ order.paymentDetails.currency
					}}{{ order.paymentDetails.total | number : '1.2-2' }}
				</span>
			</div>
			<div class="order-detail-wrapper">
				<span>DELIVERED TO</span>
				<!-- <span
					*ngIf="order.paymentDetails.deliveryAddress"
					matTooltip="Address:
          {{ order.paymentDetails.deliveryAddress!.street }}
          {{ order.paymentDetails.deliveryAddress!.zipCode }}
          {{ order.paymentDetails.deliveryAddress!.city }}
          {{ order.paymentDetails.deliveryAddress!.country }}
          "
					aria-label="Button that displays a tooltip when focused or hovered over"
				>
					{{ order.paymentDetails.deliveryAddress.firstName }}
					{{ order.paymentDetails.deliveryAddress.lastName }}</span
				> -->
			</div>
			<div class="order-detail-wrapper">
				<span>{{ order.orderID }}</span>
				<span class="more-details">View All Order Details</span>
			</div>
		</div>
		<div class="product-overview-container">
			<div
				*ngFor="let product of order.products; let i = index"
				class="product-wrapper"
			>
				<div class="product">
					<img [src]="product.image" alt="product-img" />
					<div class="product-info-actions">
						<span>{{ product.title }}</span>
						<span style="font-size: smaller"
							>Return window open until
							<!-- <strong>{{
								order.returnDate!.seconds * 1000 | date : 'longDate'
							}}</strong> -->
						</span>
						<div class="btn-wrapper">
							<button class="btn-accent">Buy again</button>
							<button class="btn-white">See Product Detail</button>
						</div>
					</div>
				</div>
				<div class="problem-btns">
					<button *ngIf="i === 0" class="btn-accent">Problem with order</button>
					<button class="btn-white">Write Product Review</button>
				</div>
			</div>
		</div>
	</mat-card>
	
	<div class="empty-orders-prompt" *ngIf="orderService.orders.length === 0">
		<mat-icon>list_alt</mat-icon>
		<h3>No orders yet</h3>
		<button [routerLink]="''">Explore products</button>
	</div>

</div>


